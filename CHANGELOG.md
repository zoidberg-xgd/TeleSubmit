# 更新日志

本文档记录TeleSubmit项目的所有重要更新和修复。

## [1.1.2] - 2025-04-12

### 修复
- 修复了媒体发送时报告"超时失败"但实际已成功发送的问题
- 增加了媒体发送的超时容忍度，从默认30秒提高到60秒
- 改进了超时处理逻辑，不再因超时中断后续媒体组发送

### 改进
- 添加了更详细的媒体发送统计，记录成功组数与总组数
- 增强了错误恢复能力，即使部分组超时也会继续尝试发送
- 延长了媒体组间发送延迟（从0.5秒到2秒），减少API限制问题
- 增加了超时后的冷却期，提高连续发送的可靠性

## [1.1.1] - 2025-04-10

### 修复
- 修复了当`SHOW_SUBMITTER=True`时大批量媒体上传（>20个）不完整的bug
- 降低caption长度阈值（从1000字符到850字符）以提高媒体组发送可靠性
- 添加媒体组发送间的短暂延迟，避免API限制

### 改进
- 增强了媒体发送的日志记录，提供更详细的调试信息
- 改进了大批量媒体发送的稳定性，无论配置如何都能可靠发送

## [1.1.0] - 2025-04-09

### 修复
- 修复了当`SHOW_SUBMITTER=False`时大批量媒体上传（>20个）不完整的严重bug
- 解决了caption过长时媒体组发送失败的问题
- 修复了通知功能中使用sqlite3.Row对象的兼容性问题

### 改进
- 优化了投稿通知格式，改用纯文本格式提高可靠性
- 改进了黑名单命令的用户提示，提供更详细的使用说明
- 媒体处理逻辑增强，现在可靠支持最多50个媒体文件的上传和发布

### 变更
- 投稿通知简化，移除了可能不准确的投稿内容部分
- 当文本说明超过1000字符时，会自动分离为独立消息发送

## [1.0.0] - 2025-03-15

### 功能
- 初始发布
- 支持多种提交模式：媒体模式、文档模式和混合模式
- 灵活的模式切换功能
- 批量上传支持
- 标签系统
- 丰富的投稿元数据：链接、标题和说明
- 剧透标记功能
- 完整的会话管理
- 用户友好的交互体验
- 权限控制和黑名单功能
- 高可靠性设计和错误处理 